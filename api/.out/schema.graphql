# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

input AddReviewInput {
  moviePublicId: String!
  score: Decimal!
  text: String!
}

type CloudImage {
  AR: Decimal!
  alt: String!
  publicId: String!
  role: String!
}

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.This scalar is serialized to a string in ISO 8601 format and parsed from a string in ISO 8601 format.
"""
scalar DateTimeISO

"""GraphQL Scalar representing the Prisma.Decimal type"""
scalar Decimal

type Figure {
  birthday: String!
  country: String!
  movies(orderBy: String): [FigureMovie!]
  name: String!
  publicId: String!
  slug: String!
}

type FigureMovie {
  _count: MovieCounters
  avgScore: Decimal!
  figures: [MovieFigure!]!
  images(role: String!): [CloudImage!]!
  name: String!
  publicId: ID!
  releasedIn: String!
  role: String!
  slug: String!
  story: String!
  userReviews: [UserReview!]!
}

type Movie {
  _count: MovieCounters
  avgScore: Decimal!
  figures: [MovieFigure!]!
  images(role: String!): [CloudImage!]!
  name: String!
  publicId: ID!
  releasedIn: String!
  slug: String!
  story: String!
  userReviews: [UserReview!]!
}

type MovieCounters {
  userReviews: Int!
}

type MovieFigure {
  birthday: String!
  country: String!
  movies(orderBy: String): [FigureMovie!]
  name: String!
  publicId: String!
  role: String!
  slug: String!
}

type Mutation {
  addReview(userReview: AddReviewInput!): UserReview!
  signIn(publicId: String!): SignInResponse!
  signOut: Int!
  userTyping(event: UserTypingEvent!, moviePublicId: String!): Int!
}

type Query {
  figure(publicId: String, slug: String): Figure
  movie(publicId: String, slug: String): Movie
  movies(skip: Int! = 0, take: Int! = 25): [Movie!]!
  users(skip: Int! = 0, take: Int! = 25): [User!]!
  whoami: User
}

type SignInResponse {
  authToken: String!
  user: User!
}

type Subscription {
  userReviewAdded(moviePublicId: String!): UserReviewNotification!
  userTypingUpdates(moviePublicId: String!, userPublicId: String!): UserTypingNotification!
}

"""
The javascript `Date` as integer. Type represents date and time as number of milliseconds from start of UNIX epoch.
"""
scalar Timestamp

type User {
  createdAt: Timestamp!
  publicId: String!
  username: String!
}

type UserReview {
  createdAt: Timestamp!
  publicId: String!
  score: Decimal!
  text: String!
  user: User!
}

type UserReviewNotification {
  publishedAt: DateTimeISO!
  type: DateTimeISO!
  userReview: UserReview!
}

"""The type of user typing event"""
enum UserTypingEvent {
  STARTED
  STOPPED
}

type UserTypingNotification {
  event: UserTypingEvent!
  moviePublicId: String!
  publishedAt: DateTimeISO!
  userPublicId: String!
  username: String!
}