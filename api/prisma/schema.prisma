generator client {
  provider = "prisma-client-js"
  output   = "./client"
}

datasource db {
  provider = "sqlite"
  url      = "file:../.data/movies.sqlite3"
}

model movie {
  id       Int      @id @default(autoincrement())
  publicId String   @unique()
  name     String
  slug     String   @unique()
  released String
  rating   rating[]
}

model rating {
  id        Int    @id @default(autoincrement())
  publicId  String @unique()
  score     Int
  createdAt Int
  movieId   Int
  movie     movie  @relation(fields: [movieId], references: [id], onDelete: Cascade, onUpdate: Cascade)

  @@index([movieId])
}
